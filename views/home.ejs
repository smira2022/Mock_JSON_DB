<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href="/css/styles.css" />
    </head>

    <body>
        <center>
            <img src="/images/rdplogo.png" />
            <h4>Mock JSON Database Operations</h4>
        </center>

        <div id="formContainer">
            <form id="addUserForm" method="POST" action="/users">
                <h4> Add User Form (POST Method)</h4>

                <input type="text" id="username"  name="username" placeholder="username" required />

                <input type="text" id="first_name"  name="username" placeholder="First Name:" required />

                <input type="email" id="email"  name="email" placeholder="Email:" required />

                <button type="submit">Add User</button>
            </form>


            <form id="editUserForm" method="POST" action="/users/:id/update">
                <h4> Edit User Form (POST/PUT Method)</h4>

                <input type="number" id="edit_id"  name="id" placeholder="ID:" required />

                <input type="text" id="new_username"  name="new_username" placeholder="New Username:" />

                <input type="text" id="new_first_name"  name="new_first_name" placeholder="New First Name:" />

                <input type="email" id="new_email"  name="new_email" placeholder="New Email:" />

                <button type="submit" onclick="updateUser()">Update User</button>
            </form>

            <form id="deleteUserForm" method="POST" action="/users/:id/delete">
                <h4>Delete User (POST/DELETE Method)</h4>
                
                <input type="text" id="delete_id" name="id" placeholder="User ID:" />

                <button type="submit" onclick="deleteUser()">Delete User</button>
            </form>

        </div>
    </body>

    <script>
        function updateUser(){
            //Grab edit form
            const editUserForm = document.getElementById("editUserForm");

            //Grad id value from form input
            const id = document.getElementById("edit_id").value;

            //insert the id into the action attribute
            editUserForm.action = "/users/" + id + "/update";

            //Submit the form
            editUserForm.submit();
        }

        function deleteUser(){
            //Grab the delete user form
            const deleteUserForm = document.getElementById("deleteUserForm");

            //Grad id value from form input
            const id = document.getElementById("delete_id").value;

             //insert id value from the action attribute
            deleteUserForm.action = "/users/" + id + "/delete";

            //submit the form
            deleteUserForm.submit();
        }


    </script>

</html>